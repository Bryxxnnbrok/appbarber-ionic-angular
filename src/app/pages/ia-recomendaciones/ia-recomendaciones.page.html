<!-- Contenedor principal con fondo oscuro -->
<ion-content [fullscreen]="true" class="main-content">
  
  <!-- Header con logo y menú hamburguesa -->
  <div class="header-container">
    <!-- Logo circular con imagen de barbería -->
    <div class="logo-container">
      <img src="assets/images/logo-barberia.png" alt="Logo Barbería" class="logo-image">
    </div>
    
    <!-- Botón menú hamburguesa -->
    <ion-button fill="clear" class="menu-button" (click)="toggleMenu()">
      <ion-icon name="menu" class="menu-icon"></ion-icon>
    </ion-button>
  </div>

  <!-- Contenedor del chat -->
  <div class="chat-container">
    
    <!-- Avatar del bot y saludo -->
    <div class="bot-greeting">
      <!-- Avatar del robot -->
<!-- Avatar del bot con imagen personalizada -->
<div class="bot-avatar">
  <img src="assets/images/chatbott.png" alt="Avatar BarberBot" class="bot-image">
</div>
      
      <!-- Mensaje de saludo -->
      <div class="greeting-text">
        <h2>Hola, soy barberbot</h2>
        <p class="subtitle">prueba tu estilo con IA ✨</p>
      </div>
    </div>

    <!-- Área de mensajes del chat (aquí se mostrarán las conversaciones) -->
    <div class="messages-area" #messagesArea>
      <!-- Los mensajes aparecerán aquí dinámicamente -->
      <div *ngFor="let message of messages" class="message" [ngClass]="message.type">
        <div class="message-content">
          <p>{{ message.text }}</p>
          <!-- Si el mensaje contiene una imagen -->
          <img *ngIf="message.image" [src]="message.image" alt="Imagen enviada" class="message-image">
        </div>
      </div>
    </div>

  </div>

  <!-- Input area fija en la parte inferior -->
  <div class="input-container">
    
    <!-- Campo de texto para escribir mensajes -->
    <div class="input-wrapper">
      <ion-input
        [(ngModel)]="messageText"
        placeholder="Escribe....."
        class="message-input"
        (keypress)="onKeyPress($event)"
        fill="outline">
      </ion-input>
      
      <!-- Botón para adjuntar imagen/cámara -->
      <ion-button 
        fill="clear" 
        class="attach-button" 
        (click)="selectImage()">
        <ion-icon name="camera" class="camera-icon"></ion-icon>
      </ion-button>
      
      <!-- Botón enviar -->
      <ion-button 
        class="send-button" 
        (click)="sendMessage()"
        [disabled]="!messageText.trim() && !selectedImage">
        enviar
      </ion-button>
    </div>

  </div>

  <!-- Input file oculto para seleccionar imágenes -->
  <input 
    type="file" 
    #fileInput 
    accept="image/*" 
    (change)="onFileSelected($event)" 
    style="display: none;">

</ion-content>